<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û—Ä–±“±–ª–∞“õ: “∞–ª—ã –ñ–µ“£—ñ—Å</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-blue: #0984e3;
            --dark-blue: #0a3d62;
            --light-blue: #74b9ff;
            --correct-green: #27ae60;
            --wrong-red: #c0392b;
            --gold: #f1c40f;
            --silver: #bdc3c7;
            --bronze: #d35400;
        }

        /* –ë–ï–¢–¢–Ü“¢ –ê–®–´–õ–£ –ê–ù–ò–ú–ê–¶–ò–Ø–°–´ (BATTLE.HTML –°–ò–Ø“ö–¢–´) */
        body {
            margin: 0;
            padding: 0;
            font-family: 'Montserrat', sans-serif;
            background: #000428; 
            background: linear-gradient(to right, #34495e, #000428);
            color: white;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
            user-select: none;
            
            /* –ê–Ω–∏–º–∞—Ü–∏—è “Ø—à—ñ–Ω */
            opacity: 0; 
            transition: opacity 1s ease;
        }

        body.loaded {
            opacity: 1;
        }

        /* –ö–†–ï–°–¢–ò–ö (–®–´“í–£ –¢“Æ–ô–ú–ï–°–Ü - 1 –≤ 1) */
        .back-btn {
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 40px;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: 0.3s;
            cursor: pointer;
            z-index: 200;
            font-weight: bold;
            font-family: Arial, sans-serif;
            text-shadow: 0 0 10px rgba(0,0,0,0.8);
        }

        .back-btn:hover {
            color: #e74c3c; 
            transform: scale(1.2);
        }

        .screen {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 90%;
            max-width: 900px;
            text-align: center;
            padding: 20px 0;
            opacity: 0;
            transition: opacity 0.4s ease-in-out;
        }

        .screen.active { 
            display: flex; 
            opacity: 1; 
        }

        .fade-content {
            opacity: 1;
            transition: opacity 0.3s ease-in-out;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .fade-content.hidden { opacity: 0; }

        .hero-image {
            width: 200px; 
            height: 200px;
            object-fit: cover;
            border-radius: 50%;
            border: 4px solid var(--primary-blue);
            box-shadow: 0 0 20px var(--primary-blue);
            margin-bottom: 20px;
            animation: pulse 3s infinite;
        }

        h1 {
            font-size: 3rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 0 0 20px #0984e3;
            margin-bottom: 20px;
            margin-top: 0;
        }

        .btn {
            background: var(--primary-blue);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: 0.3s;
            box-shadow: 0 0 15px var(--primary-blue);
            font-weight: bold;
            margin: 10px;
        }
        .btn:hover { transform: scale(1.05); background: var(--light-blue); }

        .hud {
            display: flex; justify-content: space-between; width: 100%;
            margin-bottom: 20px; font-size: 1.2rem; font-weight: bold;
            background: rgba(0,0,0,0.3); padding: 15px; border-radius: 15px;
        }

        .question-box {
            background: rgba(10, 61, 98, 0.8);
            padding: 20px; 
            border-radius: 20px;
            border: 2px solid var(--light-blue);
            margin-bottom: 25px; 
            width: 100%;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            height: 160px; 
            display: flex; 
            align-items: center; 
            justify-content: center;
            overflow: hidden;
        }

        .question-text { 
            font-size: 1.3rem; 
            margin: 0; 
            line-height: 1.4; 
            max-height: 100%;
            overflow-y: auto; 
        }

        .answers-grid {
            display: grid; grid-template-columns: repeat(2, 1fr);
            gap: 15px; width: 100%;
        }

        .answer-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--primary-blue);
            color: white; padding: 15px; border-radius: 10px;
            font-size: 1rem; cursor: pointer; transition: 0.2s;
            display: flex; align-items: center; justify-content: center;
            min-height: 60px; font-weight: 600;
        }
        .answer-btn:hover { background: var(--primary-blue); }
        .answer-btn.correct { background: var(--correct-green) !important; border-color: #2ecc71; transform: scale(1.02); }
        .answer-btn.wrong { background: var(--wrong-red) !important; border-color: #e74c3c; opacity: 0.7; }

        .scroll-box {
            background: rgba(0, 0, 0, 0.6);
            padding: 20px; border-radius: 15px;
            width: 100%; 
            border: 1px solid var(--primary-blue);
            margin-bottom: 20px;
        }

        table { width: 100%; border-collapse: separate; border-spacing: 0 5px; color: white; }
        th { padding: 15px; text-align: left; color: var(--light-blue); border-bottom: 2px solid var(--primary-blue); }
        td { padding: 12px; background: rgba(255,255,255,0.05); }
        
        .rank-1 td { background: linear-gradient(90deg, rgba(241, 196, 15, 0.2), transparent); color: var(--gold); font-weight: bold; border: 1px solid var(--gold); }
        .rank-2 td { background: linear-gradient(90deg, rgba(189, 195, 199, 0.2), transparent); color: var(--silver); font-weight: bold; }
        .rank-3 td { background: linear-gradient(90deg, rgba(211, 84, 0, 0.2), transparent); color: var(--bronze); font-weight: bold; }

        .user-result-row {
            margin-top: 15px; background: var(--dark-blue); border: 2px dashed var(--light-blue);
            padding: 15px; border-radius: 10px; display: flex; justify-content: space-between;
            align-items: center; font-weight: bold; color: white;
            box-shadow: 0 0 15px rgba(9, 132, 227, 0.3);
        }

        .mistake-item { border-bottom: 1px solid rgba(255,255,255,0.2); padding: 15px; text-align: left; }
        .mistake-q { color: var(--light-blue); font-weight: bold; margin-bottom: 5px; }
        .mistake-wrong { color: #e74c3c; font-size: 0.9rem; }
        .mistake-right { color: #2ecc71; font-weight: bold; font-size: 0.9rem; }

        #modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); display: none; justify-content: center; align-items: center; z-index: 100;
        }
        .modal-content {
            background: var(--dark-blue); padding: 40px; border-radius: 20px;
            text-align: center; border: 2px solid var(--primary-blue);
            box-shadow: 0 0 30px rgba(9, 132, 227, 0.5);
        }

        input[type="text"] {
            padding: 10px; font-size: 1.2rem; border-radius: 5px; border: none;
            margin-top: 15px; width: 80%; text-align: center;
        }

        #loading-text { color: yellow; display: none; margin-top:10px;}

        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(9, 132, 227, 0.7); } 70% { box-shadow: 0 0 0 20px rgba(9, 132, 227, 0); } 100% { box-shadow: 0 0 0 0 rgba(9, 132, 227, 0); } }
        @media (max-width: 600px) { .answers-grid { grid-template-columns: 1fr; } h1 { font-size: 2rem; } .question-box { height: auto; min-height: 150px; } }
    </style>
</head>
<body onload="document.body.classList.add('loaded')">

    <a class="back-btn" onclick="smoothExit()">&times;</a>

    <div id="start-screen" class="screen active">
        <img src="photo_2025-12-01_20-12-59.jpg" alt="Batyr" class="hero-image">
        
        <h1>–û–†–ë“∞–õ–ê“ö –®–ê–ô“ö–ê–°–´ </h1>
        <p style="font-size: 1.2rem; margin-bottom: 30px; opacity: 0.9;">20 –°“±—Ä–∞“õ | “ö–∏—ã–Ω –¥–µ“£–≥–µ–π</p>
        <button class="btn" id="startBtn">–û–ô–´–ù–î–´ –ë–ê–°–¢–ê–£</button>
        <button class="btn" id="lbBtn" style="background: transparent; border: 2px solid var(--primary-blue);">üèÜ “Æ–ó–î–Ü–ö–¢–ï–†</button>
    </div>

    <div id="quiz-screen" class="screen">
        <div class="hud">
            <span id="progressText">–°“±—Ä–∞“õ: 1/20</span>
            <span id="timerText">00:00</span>
        </div>
        
        <div id="quiz-content" class="fade-content">
            <div class="question-box">
                <p id="question" class="question-text">–°“±—Ä–∞“õ...</p>
            </div>
            <div id="answers" class="answers-grid"></div>
        </div>
    </div>

    <div id="result-screen" class="screen">
        <h1 id="result-title">–û–ô–´–ù –ê–Ø“ö–¢–ê–õ–î–´</h1>
        <p id="score-text" style="font-size: 2rem; font-weight: bold;">0 / 20</p>
        <p id="time-text" style="color: var(--light-blue); margin-bottom: 20px;">–£–∞“õ—ã—Ç: 00:00</p>
        
        <div id="fail-message" style="display:none; color: #e74c3c; margin-bottom: 20px; font-weight:bold;">
            –õ–∏–¥–µ—Ä–ª–µ—Ä “õ–∞—Ç–∞—Ä—ã–Ω–∞ –∫—ñ—Ä—É “Ø—à—ñ–Ω 20/20 –∂–∏–Ω–∞—É –∫–µ—Ä–µ–∫!
        </div>

        <button class="btn" onclick="location.reload()">“ö–ê–ô–¢–ê –û–ô–ù–ê–£</button>
        <button class="btn" id="reviewBtn" style="background: #e67e22;">“ö–ê–¢–ï–õ–ï–†–ú–ï–ù –ñ“∞–ú–´–°</button>
        <button class="btn" id="resultLbBtn" style="background: transparent; border: 2px solid white;">üèÜ –ù”ò–¢–ò–ñ–ï–ù–Ü –ö”®–†–£</button>
    </div>

    <div id="review-screen" class="screen">
        <h1>“ö–ê–¢–ï–õ–ï–† –¢–Ü–ó–Ü–ú–Ü</h1>
        <div class="scroll-box" id="review-box" style="max-height: 400px; overflow-y: auto;"></div>
        <button class="btn" onclick="document.getElementById('review-screen').classList.remove('active'); document.getElementById('result-screen').classList.add('active');">–ê–†–¢“ö–ê</button>
    </div>

    <div id="leaderboard-screen" class="screen">
        <h1>üèÜ “Æ–ó–î–Ü–ö–¢–ï–†</h1>
        <p id="loading-text">–î–µ—Ä–µ–∫—Ç–µ—Ä –∂“Ø–∫—Ç–µ–ª—É–¥–µ...</p>
        
        <div class="scroll-box">
            <table id="leaderboard-table">
                </table>
        </div>

        <div id="my-result-row" class="user-result-row" style="display: none;">
            <span>11. –°–Ü–ó (Top 10-“ì–∞ –∫—ñ—Ä–º–µ–¥—ñ“£—ñ–∑)</span>
            <span id="my-time-display">--:--</span>
        </div>

        <button class="btn" onclick="location.reload()" style="margin-top: 20px;">–ú”ò–ó–Ü–†–ì–ï –û–†–ê–õ–£</button>
    </div>

    <div id="modal-overlay">
        <div class="modal-content">
            <h2 style="color: var(--gold);">–ñ–ï“¢–Ü–°! ü•á</h2>
            <p>–°—ñ–∑ “Ø–∑–¥—ñ–∫ 10-–¥—ã“õ“õ–∞ –∫—ñ—Ä–¥—ñ“£—ñ–∑!</p>
            <input type="text" id="username" placeholder="–ï—Å—ñ–º—ñ“£—ñ–∑..." maxlength="15">
            <br><br>
            <button class="btn" id="saveScoreBtn">–°–ê“ö–¢–ê–£</button>
        </div>
    </div>

    <script>
        function smoothExit() {
            document.body.style.opacity = '0';
            setTimeout(() => {
                sessionStorage.setItem('skipIntro', 'true');
                window.location.href = 'index.html';
            }, 1000);
        }
    </script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc, getDocs, query, orderBy, limit } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBnKoa0XwFEWVgtHSZBOHmJliK-0Rx1Ums",
            authDomain: "quiz-be514.firebaseapp.com",
            projectId: "quiz-be514",
            storageBucket: "quiz-be514.firebasestorage.app",
            messagingSenderId: "497330012390",
            appId: "1:497330012390:web:ca18b9b6192158a4f4bb27",
            measurementId: "G-RBRVNN8V7X"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const LEADERBOARD_COLLECTION = "leaderboard";

        // –°“∞–†–ê“ö–¢–ê–† –ë–ê–ó–ê–°–´ (60)
        const factualQuestions = [
            { q: "–û—Ä–±“±–ª–∞“õ —à–∞–π“õ–∞—Å—ã –Ω–∞“õ—Ç—ã “õ–∞–π –∂—ã–ª—ã –±–æ–ª–¥—ã?", a: ["1643", "1635", "1652", "1723"], correct: 0 },
            { q: "–ñ”ô“£–≥—ñ—Ä —Ö–∞–Ω–Ω—ã“£ ”ô—Å–∫–µ—Ä —Å–∞–Ω—ã “õ–∞–Ω—à–∞ –±–æ–ª–¥—ã?", a: ["600", "500", "1000", "2000"], correct: 0 },
            { q: "–ñ–æ“£“ì–∞—Ä ”ô—Å–∫–µ—Ä—ñ–Ω—ñ“£ —Å–∞–Ω—ã —à–∞–º–∞–º–µ–Ω “õ–∞–Ω—à–∞ –µ–¥—ñ?", a: ["50 000", "40 000", "30 000", "60 000"], correct: 0 },
            { q: "–ñ–æ“£“ì–∞—Ä ”ô—Å–∫–µ—Ä—ñ–Ω –±–∞—Å“õ–∞—Ä“ì–∞–Ω “õ–æ–Ω—Ç–∞–π—à—ã?", a: ["–ë–∞—Ç—ã—Ä", "“ö–∞–ª–¥–∞–Ω", "–¶–µ–≤–∞–Ω –†–∞–±–¥–∞–Ω", "–ê–º—É—Ä—Å–∞–Ω–∞"], correct: 0 },
            { q: "–ö”©–º–µ–∫–∫–µ –∫–µ–ª–≥–µ–Ω –ñ–∞–ª–∞“£—Ç”©—Å –±–∞—Ç—ã—Ä–¥—ã“£ ”ô—Å–∫–µ—Ä —Å–∞–Ω—ã?", a: ["20 000", "10 000", "5 000", "30 000"], correct: 0 },
            { q: "–ñ–∞–ª–∞“£—Ç”©—Å –±–∞—Ç—ã—Ä “õ–∞–π “õ–∞–ª–∞–Ω—ã“£ ”ô–º—ñ—Ä—ñ –±–æ–ª“ì–∞–Ω?", a: ["–°–∞–º–∞—Ä“õ–∞–Ω–¥", "–ë“±—Ö–∞—Ä–∞", "–¢–∞—à–∫–µ–Ω—Ç", "–•–∏—É–∞"], correct: 0 },
            { q: "–ñ”ô“£–≥—ñ—Ä —Ö–∞–Ω–Ω—ã“£ —Ç–∞—Ä–∏—Ö–∏ –ª–∞“õ–∞–ø –∞—Ç—ã?", a: ["–°–∞–ª“õ–∞–º", "–ê—Ä—ã—Å—Ç–∞–Ω", "–ë–∞—Ç—ã—Ä", "“ö–∞“ª–∞—Ä–º–∞–Ω"], correct: 0 },
            { q: "–û—Ä–±“±–ª–∞“õ —à–∞–π“õ–∞—Å—ã–Ω–¥–∞ –∞–ª“ì–∞—à —Ä–µ—Ç “õ–æ–ª–¥–∞–Ω—ã–ª“ì–∞–Ω “õ–∞—Ä—É?", a: ["–ü—ñ–ª—Ç–µ –º—ã–ª—Ç—ã“õ", "–ó–µ“£–±—ñ—Ä–µ–∫", "–ê—Ä–±–∞–ª–µ—Ç", "–ö–∞—Ç–∞–ø—É–ª—å—Ç–∞"], correct: 0 },
            { q: "–®–∞–π“õ–∞—Å ”©—Ç–∫–µ–Ω –∂–µ—Ä “õ–∞–∑—ñ—Ä–≥—ñ “õ–∞–π –æ–±–ª—ã—Å—Ç–∞ –æ—Ä–Ω–∞–ª–∞—Å“õ–∞–Ω?", a: ["–ñ–µ—Ç—ñ—Å—É", "–ê–ª–º–∞—Ç—ã", "–®—ã“ì—ã—Å “ö–∞–∑–∞“õ—Å—Ç–∞–Ω", "–ñ–∞–º–±—ã–ª"], correct: 0 },
            { q: "–ñ”ô“£–≥—ñ—Ä —Ö–∞–Ω–Ω—ã“£ ”ô–∫–µ—Å—ñ –∫—ñ–º?", a: ["–ï—Å—ñ–º —Ö–∞–Ω", "–¢”ô—É–µ–∫–µ–ª —Ö–∞–Ω", "–®—ã“ì–∞–π —Ö–∞–Ω", "–•–∞“õ–Ω–∞–∑–∞—Ä —Ö–∞–Ω"], correct: 0 },
            { q: "–û—Ä–±“±–ª–∞“õ —à–∞–π“õ–∞—Å—ã —Ç—É—Ä–∞–ª—ã –∂–∞–∑“ì–∞–Ω –æ—Ä—ã—Å —Ç–∞—Ä–∏—Ö—à—ã—Å—ã?", a: ["–ò. –§–∏—à–µ—Ä", "–ê. –õ–µ–≤—à–∏–Ω", "–ì. –ú–∏–ª–ª–µ—Ä", "–í. –í–µ–ª—å—è–º–∏–Ω–æ–≤-–ó–µ—Ä–Ω–æ–≤"], correct: 0 },
            { q: "–®–∞–π“õ–∞—Å“õ–∞ “õ–∞—Ç—ã—Å“õ–∞–Ω –®–∞–ø—ã—Ä–∞—à—Ç—ã —Ä—É—ã–Ω—ã“£ –±–∞—Ç—ã—Ä—ã?", a: ["“ö–∞—Ä–∞—Å–∞–π", "–ù–∞—É—Ä—ã–∑–±–∞–π", "–°“±—Ä–∞–Ω—à—ã", "–°–∞—É—Ä—ã“õ"], correct: 0 },
            { q: "–ñ–∞–ª–∞“£—Ç”©—Å –±–∞—Ç—ã—Ä “õ–∞–π —Ä—É–¥–∞–Ω —à—ã“õ“õ–∞–Ω?", a: ["–¢”©—Ä—Ç“õ–∞—Ä–∞", "–ê–¥–∞–π", "–®–µ–∫—Ç—ñ", "–¢–∞–º–∞"], correct: 0 },
            { q: "–ñ–æ“£“ì–∞—Ä–ª–∞—Ä–¥—ã“£ –Ω–µ–≥—ñ–∑–≥—ñ –º–∞“õ—Å–∞—Ç—ã “õ–∞–Ω–¥–∞–π –µ–¥—ñ?", a: ["–ñ–µ—Ç—ñ—Å—É –∂–µ—Ä—ñ–Ω –±–∞—Å—ã–ø –∞–ª—É", "–°—ã—Ä–¥–∞—Ä–∏—è “õ–∞–ª–∞–ª–∞—Ä—ã–Ω –∞–ª—É", "–¢–∞—à–∫–µ–Ω—Ç—Ç—ñ –±–∞“ì—ã–Ω–¥—ã—Ä—É", "–°–∞—É–¥–∞ –∂–æ–ª—ã–Ω –∂–∞–±—É"], correct: 0 },
            { q: "–û—Ä–±“±–ª–∞“õ —à–∞–π“õ–∞—Å—ã “õ–∞–π “ì–∞—Å—ã—Ä–¥—ã“£ –æ“õ–∏“ì–∞—Å—ã?", a: ["XVII “ì.", "XVI “ì.", "XVIII “ì.", "XV “ì."], correct: 0 },
            { q: "–ë–∞—Ç—ã—Ä “õ–æ–Ω—Ç–∞–π—à—ã –∂–æ—Ä—ã“õ“õ–∞ –∞—Ç—Ç–∞–Ω“ì–∞–Ω–¥–∞ “õ–∞–π –µ–ª–º–µ–Ω —Å–æ“ì—ã—Å—ã–ø –∂–∞—Ç“õ–∞–Ω –µ–¥—ñ?", a: ["–ï—à–∫—ñ–º–º–µ–Ω, —Ç—ã–Ω—ã—à –µ–¥—ñ", "“ö—ã—Ç–∞–π–º–µ–Ω", "–†–µ—Å–µ–π–º–µ–Ω", "–ú“±—Å—ã–ª–º–∞–Ω –µ–ª–¥–µ—Ä—ñ–º–µ–Ω"], correct: 0 },
            { q: "–®–∞–π“õ–∞—Å—Ç–∞ —à–∞–º–∞–º–µ–Ω “õ–∞–Ω—à–∞ –∂–æ“£“ì–∞—Ä “õ–∞–∑–∞ —Ç–∞–ø—Ç—ã?", a: ["10 000", "5 000", "20 000", "2 000"], correct: 0 },
            { q: "–ñ”ô“£–≥—ñ—Ä —Ö–∞–Ω “õ–∞–π –∂—ã–ª—ã “õ–∞–π—Ç—ã—Å –±–æ–ª–¥—ã?", a: ["1652", "1645", "1680", "1660"], correct: 0 },
            { q: "–ñ–∞–ª–∞“£—Ç”©—Å –ë–∞“ª–∞–¥“Ø—Ä “õ–∞–Ω–¥–∞–π –∞—Ç–∞“õ“õ–∞ –∏–µ –±–æ–ª“ì–∞–Ω?", a: ["–°–∞–º–∞—Ä“õ–∞–Ω–¥ ”ô–º—ñ—Ä—ñ", "–¢“±—Ä–∞–Ω –∂–æ–ª–±–∞—Ä—ã—Å—ã", "–î–∞–ª–∞ –∫”©—Å–µ–º—ñ", "“∞–ª—ã “õ–∞“ì–∞–Ω"], correct: 0 },
            { q: "–®–∞–π“õ–∞—Å“õ–∞ “õ–∞—Ç—ã—Å“õ–∞–Ω –ê—Ä“ì—ã–Ω —Ä—É—ã–Ω—ã“£ –±–∞—Ç—ã—Ä—ã?", a: ["–ê“ì—ã–Ω—Ç–∞–π", "–ë”©–≥–µ–Ω–±–∞–π", "–ú–∞–ª–∞–π—Å–∞—Ä—ã", "–û–ª–∂–∞–±–∞–π"], correct: 0 },
            { q: "–ù–∞–π–º–∞–Ω —Ä—É—ã–Ω–∞–Ω “õ–∞—Ç—ã—Å“õ–∞–Ω –±–∞—Ç—ã—Ä?", a: ["–ö”©–∫—Å–µ—Ä–µ–∫", "“ö–∞–±–∞–Ω–±–∞–π", "–ï—Å–ø–µ–º–±–µ—Ç", "–ú–∞—Ç–∞–π"], correct: 0 },
            { q: "“ö–∞“£–ª—ã —Ä—É—ã–Ω–∞–Ω “õ–∞—Ç—ã—Å“õ–∞–Ω –±–∞—Ç—ã—Ä?", a: ["–°–∞—Ä–±“±“õ–∞", "–ñ–µ–ª–∫—ñ–ª–¥–µ–∫", "–ê–π–¥–∞—Ä", "–¢”©–ª–µ"], correct: 0 },
            { q: "–ñ”ô“£–≥—ñ—Ä —Ö–∞–Ω —Ç–∞–∫—Ç–∏–∫–∞–Ω—ã “õ–∞–π–¥–∞–Ω “Ø–π—Ä–µ–Ω—É—ñ –º“Ø–º–∫—ñ–Ω –¥–µ–≥–µ–Ω –±–æ–ª–∂–∞–º –±–∞—Ä?", a: ["–ï—É—Ä–æ–ø–∞/–û—Ä—ã—Å —Ç”ô–∂—ñ—Ä–∏–±–µ—Å—ñ", "“ö—ã—Ç–∞–π", "–ú–æ“£“ì–æ–ª", "–ü–∞—Ä—Å—ã"], correct: 0 },
            { q: "–ë–∞—Ç—ã—Ä “õ–æ–Ω—Ç–∞–π—à—ã–Ω—ã“£ —Ç–æ–ª—ã“õ –µ—Å—ñ–º—ñ?", a: ["–≠—Ä–¥—ç–Ω–∏ –ë–∞—Ç—ã—Ä", "–ì–∞–ª–¥–∞–Ω –ë–æ—à–æ–≥—Ç—É", "–¶–µ–≤–∞–Ω –î–æ—Ä–∂–∏", "–õ–∞—É–∑–∞–Ω"], correct: 0 },
            { q: "–®–∞–π“õ–∞—Å –±–æ–ª“ì–∞–Ω –º–∞—É—Å—ã–º?", a: ["–ñ–∞–∑", "–ö“Ø–∑", "–ö”©–∫—Ç–µ–º", "“ö—ã—Å"], correct: 0 },
            { q: "–û—Ä–±“±–ª–∞“õ —à–∞–π“õ–∞—Å—ã –∫–µ–∑—ñ–Ω–¥–µ–≥—ñ –†–µ—Å–µ–π –ø–∞—Ç—à–∞—Å—ã?", a: ["–ú–∏—Ö–∞–∏–ª –§–µ–¥–æ—Ä–æ–≤–∏—á", "–ü–µ—Ç—Ä I", "–ò–≤–∞–Ω –ì—Ä–æ–∑–Ω—ã–π", "–ê–ª–µ–∫—Å–µ–π –ú–∏—Ö–∞–π–ª–æ–≤–∏—á"], correct: 0 },
            { q: "–ñ”ô“£–≥—ñ—Ä —Ö–∞–Ω “õ–∞–π –∂–µ—Ä–¥–µ –∂–µ—Ä–ª–µ–Ω–≥–µ–Ω?", a: ["–¢“Ø—Ä–∫—ñ—Å—Ç–∞–Ω", "–°–∞—Ä–∞–π—à—ã“õ", "“∞–ª—ã—Ç–∞—É", "–¢–∞—Ä–∞–∑"], correct: 0 },
            { q: "–ñ–æ“£“ì–∞—Ä –º–µ–º–ª–µ–∫–µ—Ç—ñ–Ω—ñ“£ –∞—Å—Ç–∞–Ω–∞—Å—ã?", a: ["“ö“±–±–∞ “õ–∞–ª–∞—Å—ã (–±–æ–ª–º–∞“ì–∞–Ω)", "–¢–∞—Ä–±–∞“ì–∞—Ç–∞–π", "“Æ—Ä—ñ–º—à—ñ", "–ñ–æ“£“ì–∞—Ä–∏—è (–∫”©—à–ø–µ–ª—ñ –æ—Ä–¥–∞)"], correct: 3 },
            { q: "–ñ”ô“£–≥—ñ—Ä —Ö–∞–Ω–Ω—ã“£ 600 —Å–∞—Ä–±–∞–∑—ã–Ω—ã“£ –∂–∞—Ä—Ç—ã—Å—ã –Ω–µ–º–µ–Ω “õ–∞—Ä—É–ª–∞–Ω–¥—ã?", a: ["–ú—ã–ª—Ç—ã“õ–ø–µ–Ω", "–ù–∞–π–∑–∞–º–µ–Ω", "–ê–π–±–∞–ª—Ç–∞–º–µ–Ω", "–®–æ“õ–ø–∞—Ä–º–µ–Ω"], correct: 0 },
            { q: "–ñ–∞–ª–∞“£—Ç”©—Å –±–∞—Ç—ã—Ä–¥—ã“£ –∫–µ–ª—É—ñ —à–∞–π“õ–∞—Å—Ç—ã“£ –Ω–µ—à—ñ–Ω—à—ñ –∫“Ø–Ω—ñ –±–æ–ª–¥—ã?", a: ["–®–∞–π“õ–∞—Å “õ—ã–∑—ã–ø —Ç“±—Ä“ì–∞–Ω–¥–∞", "–ï–∫—ñ–Ω—à—ñ –∫“Ø–Ω—ñ", "–ë—ñ—Ä—ñ–Ω—à—ñ –∫“Ø–Ω—ñ —Ç–∞“£–¥–∞", "“Æ—à—ñ–Ω—à—ñ –∫“Ø–Ω—ñ"], correct: 0 },
            { q: "–û—Ä–±“±–ª–∞“õ –∂–µ“£—ñ—Å—ñ–Ω–µ –∞—Ä–Ω–∞–ª“ì–∞–Ω –µ—Å–∫–µ—Ä—Ç–∫—ñ—à —Å—Ç–µ–ª–ª–∞ “õ–∞–π –∂—ã–ª—ã “õ–æ–π—ã–ª–¥—ã?", a: ["2017 (–∂–∞“£–∞—Ä—Ç—ã–ª“ì–∞–Ω)", "1993", "2000", "1986"], correct: 0 },
            { q: "–ñ–æ“£“ì–∞—Ä–ª–∞—Ä “õ–∞–Ω–¥–∞–π –¥—ñ–Ω–¥—ñ “±—Å—Ç–∞–Ω“ì–∞–Ω?", a: ["–ë—É–¥–¥–∏–∑–º (–õ–∞–º–∞–∏–∑–º)", "–ò—Å–ª–∞–º", "–•—Ä–∏—Å—Ç–∏–∞–Ω", "–¢”ô“£—ñ—Ä—à—ñ–ª–¥—ñ–∫"], correct: 0 },
            { q: "–ñ”ô“£–≥—ñ—Ä —Ö–∞–Ω–Ω—ã“£ –º“±—Ä–∞–≥–µ—Ä—ñ –∫—ñ–º?", a: ["–¢”ô—É–∫–µ —Ö–∞–Ω", "–ï—Å—ñ–º —Ö–∞–Ω", "–ë–æ–ª–∞—Ç —Ö–∞–Ω", "”ò–±—ñ–ª“õ–∞–π—ã—Ä"], correct: 0 },
            { q: "–ñ–∞–ª–∞“£—Ç”©—Å –±–∞—Ç—ã—Ä —Å–∞–ª–¥—ã—Ä“ì–∞–Ω –º–µ–¥—Ä–µ—Å–µ?", a: ["–¢—ñ–ª–ª”ô-“ö–∞—Ä–∏", "–ö”©–∫—ñ–ª—Ç–∞—à", "“∞–ª—ã“õ–±–µ–∫", "–ú–∏—Ä-–ê—Ä–∞–±"], correct: 0 },
            { q: "–û—Ä–±“±–ª–∞“õ —à–∞–π“õ–∞—Å—ã “ö–∞–∑–∞“õ-–ñ–æ“£“ì–∞—Ä —Å–æ“ì—ã—Å—Ç–∞—Ä—ã–Ω—ã“£ “õ–∞–π –∫–µ–∑–µ“£—ñ?", a: ["–ë–∞—Å—Ç–∞–ø“õ—ã –∫–µ–∑–µ“£—ñ", "–ê—è“õ—Ç–∞–ª—É—ã", "–û—Ä—Ç–∞—Å—ã", "–ê“õ—Ç–∞–±–∞–Ω —à“±–±—ã—Ä—ã–Ω–¥—ã"], correct: 0 },
            { q: "“ö–∞–∑–∞“õ –∂–∞—Å–∞“õ—Ç–∞—Ä—ã —Ç–∞—É —ñ—à—ñ–Ω–¥–µ –Ω–µ “õ–∞–∑–¥—ã?", a: ["–û—Ä (—Ç—Ä–∞–Ω—à–µ—è)", "“ö“±–¥—ã“õ", "–ñ–µ—Ä—Ç”©–ª–µ", "–¢—É–Ω–Ω–µ–ª—å"], correct: 0 },
            { q: "–ñ–æ“£“ì–∞—Ä–ª–∞—Ä —à–∞–π“õ–∞—Å—Ç–∞–Ω –∫–µ–π—ñ–Ω “õ–∞–π–¥–∞ —à–µ–≥—ñ–Ω–¥—ñ?", a: ["”®–∑ –∂–µ—Ä—ñ–Ω–µ", "“ö—ã—Ç–∞–π“ì–∞", "–û—Ä—Ç–∞ –ê–∑–∏—è“ì–∞", "–°—ñ–±—ñ—Ä–≥–µ"], correct: 0 },
            { q: "–ë“±–ª —à–∞–π“õ–∞—Å“õ–∞ “ö—ã—Ä“ì—ã–∑ —Ö–∞–ª“õ—ã “õ–∞—Ç—ã—Å—Ç—ã –º–∞?", a: ["–ò”ô, –∫”©–º–µ–∫—Ç–µ—Å—Ç—ñ", "–ñ–æ“õ", "“ö–∞—Ä—Å—ã —Å–æ“ì—ã—Å—Ç—ã", "–î–µ—Ä–µ–∫ –∂–æ“õ"], correct: 0 },
            { q: "–ñ”ô“£–≥—ñ—Ä —Ö–∞–Ω —Ç“±—Ç“õ—ã–Ω“ì–∞ —Ç“Ø—Å–∫–µ–Ω –±–µ?", a: ["–ò”ô, –±“±—Ä—ã–Ω —Ç“Ø—Å–∫–µ–Ω", "–ñ–æ“õ, –µ—à“õ–∞—à–∞–Ω", "–®–∞–π“õ–∞—Å—Ç–∞ —Ç“Ø—Å—Ç—ñ", "”®–ª–≥–µ–Ω —Å–æ“£ —Ç“Ø—Å—Ç—ñ"], correct: 0 },
            { q: "–û—Ä–±“±–ª–∞“õ —à–∞–π“õ–∞—Å—ã–Ω—ã“£ –±–∞—Å—Ç—ã –Ω”ô—Ç–∏–∂–µ—Å—ñ?", a: ["–ñ–æ“£“ì–∞—Ä–ª–∞—Ä–¥—ã“£ –±–µ—Ç—ñ “õ–∞–π—Ç—Ç—ã", "–ñ–æ“£“ì–∞—Ä–ª–∞—Ä –∂–æ–π—ã–ª–¥—ã", "“ö–∞–∑–∞“õ—Ç–∞—Ä –∂–µ“£—ñ–ª–¥—ñ", "–ë–µ–π–±—ñ—Ç –∫–µ–ª—ñ—Å—ñ–º –∂–∞—Å–∞–ª–¥—ã"], correct: 0 }
        ];

        const conceptualQuestions = [
            { q: "600 —Å–∞—Ä–±–∞–∑–¥—ã“£ 50 –º—ã“£ ”ô—Å–∫–µ—Ä–≥–µ —Ç”©—Ç–µ–ø –±–µ—Ä—É—ñ–Ω—ñ“£ –ë–ê–°–¢–´ —Å–µ–±–µ–±—ñ?", a: ["–ñ–µ—Ä –±–µ–¥–µ—Ä—ñ –º–µ–Ω —Ç–∞–∫—Ç–∏–∫–∞", "–ñ–æ“£“ì–∞—Ä–ª–∞—Ä–¥—ã“£ ”ô–ª—Å—ñ–∑–¥—ñ–≥—ñ", "–ê—É–∞ —Ä–∞–π—ã–Ω—ã“£ “õ–æ–ª–∞–π—Å—ã–∑–¥—ã“ì—ã", "–†—É—Ö–∞–Ω–∏ –∫“Ø—à"], correct: 0 },
            { q: "–ñ”ô“£–≥—ñ—Ä —Ö–∞–Ω–Ω—ã“£ ¬´–û—Ä¬ª (–æ–∫–æ–ø) “õ–∞–∑—É ”ô–¥—ñ—Å—ñ “õ–∞–Ω–¥–∞–π –∞—Ä—Ç—ã“õ—à—ã–ª—ã“õ –±–µ—Ä–¥—ñ?", a: ["–ñ–∞—É –æ“ì—ã–Ω–∞–Ω “õ–æ—Ä“ì–∞–Ω—É –∂”ô–Ω–µ –¥”ô–ª –∫”©–∑–¥–µ—É", "–ñ–∞—Å—ã—Ä—ã–Ω—ã–ø “õ–∞—à—É", "–°—É –∂–∏–Ω–∞—É", "–ê—Ç—Ç–∞—Ä–¥—ã “±—Å—Ç–∞—É"], correct: 0 },
            { q: "–ë“±–ª —à–∞–π“õ–∞—Å—Ç–∞“ì—ã –º—ã–ª—Ç—ã“õ—Ç—ã“£ —Ä”©–ª—ñ “õ–∞–Ω–¥–∞–π –±–æ–ª–¥—ã?", a: ["–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è–ª—ã“õ —Å–æ“õ“õ—ã –∂”ô–Ω–µ –∞–ª—ã—Å—Ç–∞–Ω –∂–æ—é", "–¢–µ–∫ –¥—ã–±—ã—Å —à—ã“ì–∞—Ä—É", "–†”©–ª—ñ —Ç”©–º–µ–Ω –±–æ–ª–¥—ã", "–¢“Ø—Ç—ñ–Ω –∂–∞—Å–∞—É"], correct: 0 },
            { q: "–ñ–∞–ª–∞“£—Ç”©—Å –±–∞—Ç—ã—Ä–¥—ã“£ –∫–µ–ª—É—ñ –Ω–µ–≥–µ —à–µ—à—É—à—ñ –±–æ–ª–¥—ã?", a: ["–ñ–∞—É–¥—ã“£ —Ç—É —Å—ã—Ä—Ç—ã–Ω–∞–Ω —Å–æ“õ“õ—ã –±–µ—Ä–¥—ñ", "–ö–µ–ª—ñ—Å—Å”©–∑ –∂“Ø—Ä–≥—ñ–∑–¥—ñ", "–ñ–æ“£“ì–∞—Ä–ª–∞—Ä–¥—ã “õ–æ—Ä“õ—ã—Ç—Ç—ã", "“ö–∞—Ä—É ”ô–∫–µ–ª–¥—ñ"], correct: 0 },
            { q: "–¢–∞—É —à–∞—Ç“õ–∞–ª—ã–Ω —Ç–∞“£–¥–∞—É–¥—ã“£ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–ª—ã“õ –º”ô–Ω—ñ?", a: ["–ñ–∞—É–¥—ã“£ —Å–∞–Ω–¥—ã“õ –∞—Ä—Ç—ã“õ—à—ã–ª—ã“ì—ã–Ω –∂–æ—é", "–ö“Ø–Ω–Ω–µ–Ω “õ–æ—Ä“ì–∞–Ω—É", "–ñ–µ–ª–¥–µ–Ω —Ç–∞—Å–∞ –±–æ–ª—É", "–°—É“ì–∞ –∂–∞“õ—ã–Ω –±–æ–ª—É"], correct: 0 },
            { q: "–û—Ä–±“±–ª–∞“õ —à–∞–π“õ–∞—Å—ã–Ω —Ç–∞—Ä–∏—Ö—Ç–∞“ì—ã “õ–∞–π —à–∞–π“õ–∞—Å–ø–µ–Ω –∂–∏—ñ —Å–∞–ª—ã—Å—Ç—ã—Ä–∞–¥—ã?", a: ["300 —Å–ø–∞—Ä—Ç–∞–ª—ã“õ (–§–µ—Ä–º–æ–ø–∏–ª—å)", "–í–∞—Ç–µ—Ä–ª–æ–æ", "–ö–∞–Ω–Ω—ã", "–°—Ç–∞–ª–∏–Ω–≥—Ä–∞–¥"], correct: 0 },
            { q: "–ñ”ô“£–≥—ñ—Ä —Ö–∞–Ω “õ–æ–ª–¥–∞–Ω“ì–∞–Ω —Ç–∞–∫—Ç–∏–∫–∞ –∫–µ–π—ñ–Ω “õ–∞–Ω–¥–∞–π —Å–æ“ì—ã—Å —Ç“Ø—Ä—ñ–Ω–µ –Ω–µ–≥—ñ–∑ –±–æ–ª–¥—ã?", a: ["–ü–æ–∑–∏—Ü–∏—è–ª—ã“õ —Å–æ“ì—ã—Å", "–ü–∞—Ä—Ç–∏–∑–∞–Ω–¥—ã“õ —Å–æ“ì—ã—Å", "–¢–µ“£—ñ–∑ —Å–æ“ì—ã—Å—ã", "–Ø–¥—Ä–æ–ª—ã“õ —Å–æ“ì—ã—Å"], correct: 0 },
            { q: "–ï–≥–µ—Ä –ñ–∞–ª–∞“£—Ç”©—Å –±–∞—Ç—ã—Ä –∫–µ–ª–º–µ–≥–µ–Ω–¥–µ –Ω–µ –±–æ–ª—É—ã –º“Ø–º–∫—ñ–Ω –µ–¥—ñ?", a: ["“ö–∞–∑–∞“õ –∂–∞—Å–∞“ì—ã “õ–æ—Ä—à–∞—É–¥–∞ “õ–∞–ª—ã–ø, “õ—ã—Ä—ã–ª—É—ã –º“Ø–º–∫—ñ–Ω –µ–¥—ñ", "–ë”ô—Ä—ñ–±—ñ—Ä –∂–µ“£–µ—Ä –µ–¥—ñ", "–ñ–æ“£“ì–∞—Ä–ª–∞—Ä –∫–µ—Ç–µ—Ä –µ–¥—ñ", "–ë–µ–ª–≥—ñ—Å—ñ–∑"], correct: 0 },
            { q: "–ë“±–ª –∂–µ“£—ñ—Å “õ–∞–∑–∞“õ —Ö–∞–ª“õ—ã–Ω–∞ “õ–∞–Ω–¥–∞–π —Ä—É—Ö–∞–Ω–∏ ”ô—Å–µ—Ä –µ—Ç—Ç—ñ?", a: ["–ë—ñ—Ä–ª—ñ–∫ –ø–µ–Ω —Å–µ–Ω—ñ–º–¥—ñ –∫“Ø—à–µ–π—Ç—Ç—ñ", "–ê—Ä“õ–∞–Ω—ã –∫–µ“£–≥–µ —Å–∞–ª–¥—ã", "“ö–æ—Ä“õ—ã–Ω—ã—à —Ç—É–¥—ã—Ä–¥—ã", "–ñ–∞—É–ª–∞—Å—Ç—ã—Ä–¥—ã"], correct: 0 },
            { q: "–ù–µ–≥–µ –∂–æ“£“ì–∞—Ä–ª–∞—Ä –∞—Ç—Ç—ã ”ô—Å–∫–µ—Ä—ñ–º–µ–Ω —Ç–∞—É —ñ—à—ñ–Ω–¥–µ —Ç–∏—ñ–º—Å—ñ–∑ –±–æ–ª–¥—ã?", a: ["–¢–∞—Ä –∂–µ—Ä–¥–µ –º–∞–Ω–µ–≤—Ä –∂–∞—Å–∞–π –∞–ª–º–∞–¥—ã", "–ê—Ç—Ç–∞—Ä—ã –∞—É—ã—Ä–¥—ã", "–ñ–∞—è—É —Å–æ“ì—ã—Å—Ç—ã “õ–∞–ª–∞–¥—ã", "–¢–∞—Å—Ç–∞–Ω “õ–æ—Ä—ã“õ—Ç—ã"], correct: 0 },
            { q: "–ñ”ô“£–≥—ñ—Ä —Ö–∞–Ω–Ω—ã“£ –±–∞—Ä–ª–∞—É –∂“Ø–π–µ—Å—ñ “õ–∞–ª–∞–π –∂“±–º—ã—Å —ñ—Å—Ç–µ–¥—ñ?", a: ["–ñ–∞—É–¥—ã“£ –∫–µ–ª–µ –∂–∞—Ç“õ–∞–Ω—ã–Ω –∞–ª–¥—ã–Ω –∞–ª–∞ –±—ñ–ª–¥—ñ", "–ö–µ–∑–¥–µ–π—Å–æ“õ –∫–µ–∑–¥–µ—Å—Ç—ñ", "–°”ô—Ç—Å—ñ–∑ –±–æ–ª–¥—ã", "–°–∞—Ç“õ—ã–Ω–¥–∞—Ä –∞–π—Ç—Ç—ã"], correct: 0 },
            { q: "–û—Ç—Ç—ã “õ–∞—Ä—É–¥—ã“£ (–º—ã–ª—Ç—ã“õ) —Å–æ–ª –∑–∞–º–∞–Ω–¥–∞“ì—ã –∞—Ä—Ç—ã“õ—à—ã–ª—ã“ì—ã?", a: ["–°–∞—É—ã—Ç—Ç—ã —Ç–µ—Å—É –º“Ø–º–∫—ñ–Ω–¥—ñ–≥—ñ", "–¢–µ–∑ –æ“õ—Ç–∞–ª—É—ã", "–î—ã–±—ã—Å—Å—ã–∑–¥—ã“ì—ã", "–ê—Ä–∑–∞–Ω–¥—ã“ì—ã"], correct: 0 },
            { q: "–ë–∞—Ç—ã—Ä “õ–æ–Ω—Ç–∞–π—à—ã–Ω—ã“£ –Ω–µ–≥—ñ–∑–≥—ñ “õ–∞—Ç–µ–ª—ñ–≥—ñ?", a: ["“ö–∞—Ä—Å—ã–ª–∞—Å—ã–Ω –±–∞“ì–∞–ª–∞–º–∞—É –∂”ô–Ω–µ –∂–µ—Ä–¥—ñ –∑–µ—Ä—Ç—Ç–µ–º–µ—É", "”ò—Å–∫–µ—Ä—ñ–Ω—ñ“£ –∞–∑–¥—ã“ì—ã", "–ö–µ—à—ñ–≥—ñ–ø —à—ã“ì—É—ã", "–û–¥–∞“õ—Ç–∞—Å—ã–Ω—ã“£ –±–æ–ª–º–∞—É—ã"], correct: 0 },
            { q: "–û—Ä–±“±–ª–∞“õ —à–∞–π“õ–∞—Å—ã –≥–µ–æ—Å–∞—è—Å–∏ —Ç“±—Ä“ì—ã–¥–∞–Ω –Ω–µ–Ω—ñ –∫”©—Ä—Å–µ—Ç—Ç—ñ?", a: ["–û—Ä—Ç–∞ –ê–∑–∏—è —Ö–∞–ª—ã“õ—Ç–∞—Ä—ã–Ω—ã“£ —ã–Ω—Ç—ã–º–∞“õ—Ç–∞—Å—Ç—ã“ì—ã–Ω", "–†–µ—Å–µ–π–¥—ñ“£ —ã“õ–ø–∞–ª—ã–Ω", "“ö—ã—Ç–∞–π–¥—ã“£ –∫“Ø—à—ñ–Ω", "–ï—É—Ä–æ–ø–∞–Ω—ã“£ –∫”©–º–µ–≥—ñ–Ω"], correct: 0 },
            { q: "–¢–∞—É–ª—ã –∂–µ—Ä–¥–µ–≥—ñ ¬´–±”©–≥–µ—É¬ª (–∑–∞—Å–∞–¥–∞) —Ç–∞–∫—Ç–∏–∫–∞—Å—ã–Ω—ã“£ –º–∞“õ—Å–∞—Ç—ã?", a: ["–ö“Ø—à—Ç—ñ –∂–∞—É–¥—ã —Ç–æ“õ—Ç–∞—Ç—ã–ø, —É–∞“õ—ã—Ç “±—Ç—É", "“ö–∞—à—ã–ø –∫–µ—Ç—É", "–î–µ–º–∞–ª—É", "–ö–µ–ª—ñ—Å—Å”©–∑ –∫“Ø—Ç—É"], correct: 0 },
            { q: "600 –∂–∞—É—ã–Ω–≥–µ—Ä–¥—ñ“£ ¬´–±–∞—Ç—ã—Ä¬ª –∞—Ç–∞–Ω—É—ã–Ω—ã“£ —Å–µ–±–µ–±—ñ?", a: ["”®–ª—ñ–º–≥–µ –±–∞—Å —Ç—ñ–≥—ñ–ø, –µ—Ä–ª—ñ–∫ –∫”©—Ä—Å–µ—Ç–∫–µ–Ω—ñ “Ø—à—ñ–Ω", "–•–∞–Ω –±“±–π—Ä—ã“ì—ã–º–µ–Ω", "–ñ–∞–π —Å”©–∑", "–ê—Ç—Ç–∞—Ä—ã —Å–æ–ª–∞–π –±–æ–ª“ì–∞–Ω"], correct: 0 },
            { q: "–®–∞–π“õ–∞—Å –∫–µ–∑—ñ–Ω–¥–µ–≥—ñ ¬´–¢—É —Å—ã—Ä—Ç—ã–Ω–∞–Ω —Å–æ“õ“õ—ã–Ω—ã“£¬ª ”ô—Å–µ—Ä—ñ?", a: ["–ñ–∞—É–¥—ã –¥“Ø—Ä–ª—ñ–∫—Ç—ñ—Ä—ñ–ø, “õ–æ—Ä—à–∞—É–¥–∞ “õ–∞–ª–¥—ã“õ –¥–µ–ø –æ–π–ª–∞—Ç—Ç—ã", "–ö”©–º–µ–∫—Ç–µ—Å–ø–µ–¥—ñ", "–ñ–∞—É “õ—É–∞–Ω–¥—ã", "–ë–µ–ª–≥—ñ—Å—ñ–∑"], correct: 0 },
            { q: "–û—Ä–±“±–ª–∞“õ —Ç–∞–∫—Ç–∏–∫–∞—Å—ã –±“Ø–≥—ñ–Ω–≥—ñ –∫“Ø–Ω—ñ ”©–∑–µ–∫—Ç—ñ –º–µ?", a: ["–ò”ô, ”ô—Å–∫–µ—Ä–∏ ”©–Ω–µ—Ä–¥–µ –º–∞“£—ã–∑—ã –±–∞—Ä", "–ñ–æ“õ, –µ—Å–∫—ñ—Ä–¥—ñ", "–¢–µ–∫ —Ç–∞—Ä–∏—Ö—Ç–∞ “õ–∞–ª–¥—ã", "–ú“Ø–ª–¥–µ–º –∂–æ“õ"], correct: 0 },
            { q: "–ñ–µ“£—ñ—Å—Ç–µ–Ω –∫–µ–π—ñ–Ω –ñ”ô“£–≥—ñ—Ä —Ö–∞–Ω–Ω—ã“£ –±–µ–¥–µ–ª—ñ “õ–∞–ª–∞–π ”©–∑–≥–µ—Ä–¥—ñ?", a: ["–ë“Ø–∫—ñ–ª “õ–∞–∑–∞“õ –¥–∞–ª–∞—Å—ã –º–µ–Ω –û—Ä—Ç–∞ –ê–∑–∏—è“ì–∞ —Ç–∞—Ä–∞–¥—ã", "–¢”©–º–µ–Ω–¥–µ–¥—ñ", "”®–∑–≥–µ—Ä–º–µ–¥—ñ", "“∞–º—ã—Ç—ã–ª–¥—ã"], correct: 0 },
            { q: "–ë“±–ª —à–∞–π“õ–∞—Å –Ω–µ–ª—ñ–∫—Ç–µ–Ω ¬´–î–∞–ª–∞ –§–µ—Ä–º–æ–ø–∏–ª—ñ¬ª –¥–µ–ø –∞—Ç–∞–ª–∞–¥—ã?", a: ["–ê–∑ –∫“Ø—à–ø–µ–Ω “Ø–ª–∫–µ–Ω –∞—Ä–º–∏—è“ì–∞ “õ–∞—Ä—Å—ã —Ç“±—Ä“ì–∞–Ω—ã “Ø—à—ñ–Ω", "–ì—Ä–µ–∫–∏—è–¥–∞ –±–æ–ª“ì–∞–Ω—ã “Ø—à—ñ–Ω", "–°–ø–∞—Ä—Ç–∞–ª—ã“õ—Ç–∞—Ä “õ–∞—Ç—ã—Å“õ–∞–Ω—ã “Ø—à—ñ–Ω", "“ö–∞—Ç–µ–ª–µ—Å—ñ–ø –∞–π—Ç—ã–ª“ì–∞–Ω"], correct: 0 }
        ];

        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let startTime;
        let timerInterval;
        let elapsedMilliseconds = 0;
        let mistakes = []; 
        let userJustPlayed = false;

        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const reviewScreen = document.getElementById('review-screen');
        const leaderboardScreen = document.getElementById('leaderboard-screen');
        const quizContent = document.getElementById('quiz-content');
        const questionEl = document.getElementById('question');
        const answersEl = document.getElementById('answers');
        const progressEl = document.getElementById('progressText');
        const timerEl = document.getElementById('timerText');
        const modal = document.getElementById('modal-overlay');

        document.getElementById('startBtn').addEventListener('click', startGame);
        document.getElementById('lbBtn').addEventListener('click', () => showLeaderboard(false));
        document.getElementById('resultLbBtn').addEventListener('click', () => showLeaderboard(true));
        document.getElementById('saveScoreBtn').addEventListener('click', saveHighScore);
        document.getElementById('reviewBtn').addEventListener('click', showReview);

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function startGame() {
            score = 0;
            currentQuestionIndex = 0;
            elapsedMilliseconds = 0;
            mistakes = [];
            userJustPlayed = false;
            
            let fQ = shuffleArray([...factualQuestions]).slice(0, 13);
            let cQ = shuffleArray([...conceptualQuestions]).slice(0, 7);
            currentQuestions = shuffleArray([...fQ, ...cQ]);

            startScreen.classList.remove('active');
            resultScreen.classList.remove('active');
            reviewScreen.classList.remove('active');
            leaderboardScreen.classList.remove('active');
            quizScreen.classList.add('active');

            startTime = Date.now();
            timerInterval = setInterval(updateTimer, 100);
            showQuestion();
        }

        function updateTimer() {
            let now = Date.now();
            let diff = now - startTime;
            elapsedMilliseconds = diff;
            let totalSeconds = Math.floor(diff / 1000);
            let minutes = Math.floor(totalSeconds / 60);
            let seconds = totalSeconds % 60;
            timerEl.innerText = (minutes < 10 ? "0" + minutes : minutes) + ":" + (seconds < 10 ? "0" + seconds : seconds);
        }

        function showQuestion() {
            quizContent.classList.remove('hidden');

            let qData = currentQuestions[currentQuestionIndex];
            progressEl.innerText = `–°“±—Ä–∞“õ: ${currentQuestionIndex + 1}/${currentQuestions.length}`;
            questionEl.innerText = qData.q;
            answersEl.innerHTML = '';

            let options = qData.a.map((text, index) => {
                return { text: text, originalIndex: index };
            });
            shuffleArray(options);

            options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'answer-btn';
                btn.innerText = opt.text;
                btn.addEventListener('click', () => checkAnswer(opt.originalIndex === qData.correct, btn, qData));
                answersEl.appendChild(btn);
            });
        }

        function checkAnswer(isCorrect, btnElement, qData) {
            const allBtns = answersEl.querySelectorAll('.answer-btn');
            allBtns.forEach(b => b.replaceWith(b.cloneNode(true))); 

            if (isCorrect) {
                btnElement.classList.add('correct');
                score++;
            } else {
                btnElement.classList.add('wrong');
                mistakes.push({
                    q: qData.q,
                    wrong: btnElement.innerText,
                    right: qData.a[qData.correct]
                });
            }

            setTimeout(() => {
                quizContent.classList.add('hidden'); 
                setTimeout(() => {
                    currentQuestionIndex++;
                    if (currentQuestionIndex < currentQuestions.length) {
                        showQuestion();
                    } else {
                        endGame();
                    }
                }, 300);
            }, 800);
        }

        function endGame() {
            clearInterval(timerInterval);
            userJustPlayed = true;
            quizScreen.classList.remove('active');
            resultScreen.classList.add('active');

            document.getElementById('score-text').innerText = `${score} / ${currentQuestions.length}`;
            document.getElementById('time-text').innerText = `–£–∞“õ—ã—Ç: ${timerEl.innerText}`;

            const reviewBtn = document.getElementById('reviewBtn');
            reviewBtn.style.display = mistakes.length > 0 ? 'inline-block' : 'none';

            if (score === currentQuestions.length) { 
                checkLeaderboardEligibility();
                document.getElementById('fail-message').style.display = 'none';
                document.getElementById('result-title').innerText = "–ö–ï–†–ï–ú–ï–¢ –ñ–ï“¢–Ü–°!";
                document.getElementById('result-title').style.color = "#f1c40f";
            } else {
                document.getElementById('fail-message').style.display = 'block';
                document.getElementById('result-title').innerText = "–û–ô–´–ù –ê–Ø“ö–¢–ê–õ–î–´";
                document.getElementById('result-title').style.color = "white";
            }
        }

        function showReview() {
            resultScreen.classList.remove('active');
            reviewScreen.classList.add('active');
            const box = document.getElementById('review-box');
            box.innerHTML = '';

            mistakes.forEach((m, index) => {
                box.innerHTML += `
                    <div class="mistake-item">
                        <div class="mistake-q">${index + 1}. ${m.q}</div>
                        <div class="mistake-wrong">–°—ñ–∑: ${m.wrong}</div>
                        <div class="mistake-right">–î“±—Ä—ã—Å: ${m.right}</div>
                    </div>
                `;
            });
        }

        async function getLeaderboardData() {
            const q = query(collection(db, LEADERBOARD_COLLECTION), orderBy("time"), limit(10));
            const querySnapshot = await getDocs(q);
            let data = [];
            querySnapshot.forEach((doc) => {
                data.push(doc.data());
            });
            return data;
        }

        function renderSkeletonTable(tbody) {
             tbody.innerHTML = `<tr><th>#</th><th>–ï—Å—ñ–º</th><th>–£–∞“õ—ã—Ç</th></tr>`;
             for(let i=0; i<10; i++) {
                 tbody.innerHTML += `
                    <tr>
                        <td style="opacity:0.3">${i + 1}</td>
                        <td style="opacity:0.3">–ñ“Ø–∫—Ç–µ–ª—É–¥–µ...</td>
                        <td style="opacity:0.3">--:--</td>
                    </tr>
                 `;
             }
        }

        async function showLeaderboard(fromResult = false) {
            startScreen.classList.remove('active');
            resultScreen.classList.remove('active');
            leaderboardScreen.classList.add('active');
            
            const tbody = document.getElementById('leaderboard-table');
            const myResultRow = document.getElementById('my-result-row');
            
            renderSkeletonTable(tbody); 
            myResultRow.style.display = 'none';

            try {
                const data = await getLeaderboardData();
                tbody.innerHTML = `<tr><th>#</th><th>–ï—Å—ñ–º</th><th>–£–∞“õ—ã—Ç</th></tr>`;
                
                for (let i = 0; i < 10; i++) {
                    if (i < data.length) {
                        let entry = data[i];
                        let rankClass = '';
                        let icon = '';

                        if (i === 0) { rankClass = 'rank-1'; icon = 'ü•á'; }
                        else if (i === 1) { rankClass = 'rank-2'; icon = 'ü•à'; }
                        else if (i === 2) { rankClass = 'rank-3'; icon = 'ü•â'; }

                        let totalSec = Math.floor(entry.time / 1000);
                        let m = Math.floor(totalSec / 60);
                        let s = totalSec % 60;
                        let timeStr = `${m}:${s < 10 ? '0'+s : s}`;

                        tbody.innerHTML += `
                            <tr class="${rankClass}">
                                <td>${icon} ${i + 1}</td>
                                <td>${entry.name}</td>
                                <td>${timeStr}</td>
                            </tr>
                        `;
                    } else {
                        tbody.innerHTML += `
                            <tr>
                                <td style="opacity:0.3">${i + 1}</td>
                                <td style="opacity:0.3">---</td>
                                <td style="opacity:0.3">--:--</td>
                            </tr>
                        `;
                    }
                }

                if (fromResult && userJustPlayed) {
                     let isInside = false;
                     if (score === currentQuestions.length) {
                        if (data.length < 10) isInside = true;
                        else if (elapsedMilliseconds < data[data.length-1].time) isInside = true;
                     }

                     if (!isInside) {
                        let totalSec = Math.floor(elapsedMilliseconds / 1000);
                        let m = Math.floor(totalSec / 60);
                        let s = totalSec % 60;
                        document.getElementById('my-time-display').innerText = `${m}:${s < 10 ? '0'+s : s}`;
                        myResultRow.style.display = 'flex';
                     }
                }

            } catch (error) {
                console.error("Error:", error);
                tbody.innerHTML = '<tr><td colspan="3">–ò–Ω—Ç–µ—Ä–Ω–µ—Ç –∂–æ“õ —Å–∏—è“õ—Ç—ã...</td></tr>';
            }
        }

        async function checkLeaderboardEligibility() {
            try {
                const data = await getLeaderboardData();
                if (data.length < 10 || elapsedMilliseconds < data[data.length - 1].time) {
                    modal.style.display = 'flex';
                }
            } catch (e) {
                modal.style.display = 'flex';
            }
        }

        async function saveHighScore() {
            const nameInput = document.getElementById('username');
            const name = nameInput.value.trim() || "–ë–µ–ª–≥—ñ—Å—ñ–∑";
            const btn = document.getElementById('saveScoreBtn');
            
            btn.innerText = "–°–∞“õ—Ç–∞–ª—É–¥–∞...";
            btn.disabled = true;

            try {
                await addDoc(collection(db, LEADERBOARD_COLLECTION), {
                    name: name,
                    time: elapsedMilliseconds,
                    date: new Date().toISOString()
                });
                modal.style.display = 'none';
                showLeaderboard(true);
            } catch (e) {
                alert("“ö–∞—Ç–µ! –î–µ—Ä–µ–∫ —Å–∞“õ—Ç–∞–ª–º–∞–¥—ã.");
            } finally {
                btn.innerText = "–°–ê“ö–¢–ê–£";
                btn.disabled = false;
            }
        }
    </script>
</body>
</html>